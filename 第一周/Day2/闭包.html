<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script type="text/javascript">

//    var num = 100;
//    function add() {
//        num += 10; // num = 110
//    }
//    add();
//    console.log(num); // 110 在add私有作用域中 将上级（全局）的num变量 修改


//    num = 300;
//    function total() {
//        var num;
//        console.log(num);
//    }
//     total();
//
//    console.log(num);

//  从技术上
//    闭包的概念 函数执行都会形成一个私有的作用域 保护里面的定义的私有变量不受外界干扰 这种保护机制 叫做闭包
    
    
//    var num = 200;
//    function fn() {
//        var num = 100;
//        console.log(num);
//    }
//    num += 10; // 修改的全局的num
//    fn();
//    console.log(num); // 210

    // 私有的作用域 可以修改 上级作用域中的变量
//    var num = 10;
//    function fn() {
//        num += 200; // 操作的是全局的num
//    }
//    fn();
//    console.log(num); // 全局中的num 被fn私有作用域中 修改了


    // 闭包的另一种形式
    // fe 里面返回的内部函数 => 也认为 是闭包
    function fe() {
        var num = 200; // 如果要先修改私有作用域的值 必须通过 它的下级修改
        return function () { // 内部函数 里面操作的 上级num
            num += 20; // 内部函数每执行一次 就会将上级num 累加20
            console.log(num); // 被修改后的 上级fe的 num
        }
    }
   var f = fe(); // f 指向的是 fe 返回的 function的引用地址 外部f执行 也就是 fe内部返回的函数 执行
    console.log(f);
    f(); // 通过 外部调用f() 修改了 fe闭包内部num的值
    f(); // f执行几次 就会修改几次 fe闭包内部num的值
</script>
</body>
</html>