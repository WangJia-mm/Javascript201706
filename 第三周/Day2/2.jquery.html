<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style type="text/css">
        .css1 {
            width: 200px;
            height: 200px;
            background-color: red;
        }
    </style>
</head>
<body>
<div id="oDiv"></div>
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript">

    console.log($('#oDiv')); // 直接返回的是 return  new jQuery.fn.init
    // jQuery.fn.init 就是 jq对象的构造器（构造jq实例） 实现无new构造
    
    (function () {
        var aQuery = function (selector, context) {

            return new aQuery.fn.init(selector, context)
        };

        aQuery.fn = aQuery.prototype = {
            constructor: aQuery,
            aquery: '1.11.3',
            addClass: function (cname) {
               console.log(this);
               if(cname) {
                   console.log(this[0]); // 得到原生对象
                   this[0].className += ' ' + cname;
               }
               return this;
            },
            html: function (text) {
                if(text){
                    this[0].innerHTML = text;
                }
                return this;
            },
            css: function (attr, val) {
                if(typeof val === 'undefined') {
                    return this[0].style[attr];
                } else {
                    this[0].style[attr] = val;
                    return this;
                }
            }
        };

        // jq 对象构造器 负责在内部 构造jq实例
        aQuery.fn.init = function (selector) {
            console.log(selector); // '#oDiv'
            var elem = document.getElementById(selector.slice(1));
//            console.log(elem);
            this[0] = elem;
            this.length = 1;
            this.context = document;
            this.selector = selector;
             return this;
        };
        aQuery.fn.init.prototype = aQuery.fn;
        window.$$ = window.aQuery = aQuery;
    })();

    console.log($$('#oDiv')); // 无new构造实例
//    console.log($$('#oDiv') instanceof aQuery);
    $$('#oDiv').addClass('css1').html('hello jquery!').css('color', 'blue').css('font-size', '30px');
</script>
</body>
</html>